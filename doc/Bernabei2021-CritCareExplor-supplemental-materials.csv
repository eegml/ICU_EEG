Supplemental materials for
RAMSES: A full-stack application for detecting seizures and reducing data during continuous
EEG monitoring
"John M. Bernabei 1,2 , Olaoluwa Owoputi 1,2 , Shyon Small 1,2 , Nathaniel Nyema 1,2 , Elom"
"Dumenyo1,2 , Joongwon Daniel Kim1,2 , Steven N. Baldassano 1,2 , Christopher Painter 1,2 , Erin C."
"Conrad3 , Taneeta M. Ganguly3 , Ramani Balu3 , Kathryn A. Davis 3 , Joshua M. Levine 3 , Jay"
"Pathmanathan3 , Brian Litt1,2,3,4"
"1Department of Bioengineering, University of Pennsylvania, Philadelphia, PA, 19104"
"2Center for Neuroengineering & Therapeutics, University of Pennsylvania, Philadelphia PA 19104"
"3Department of Neurology, Hospital of the University of Pennsylvania, Philadelphia, PA, 19104 USA"
"4Department of Neurosurgery, Hospital of the University of Pennsylvania, Philadelphia, PA, 19104"
To whom correspondence should be addressed: John.Bernabei@pennmedicine.upenn.edu
Contents
Table S1: Patient list and metadata
Figure S1: Real-time alerting and monitoring system for epilepsy and seizures (RAMSES)
Figure S2: Low sensitivity CV patient
Figure S3: Low sensitivity test patient
Methods S1: Extended feature calculation

,,,,,,,Mean,,,
,,,,,SZ,Detection,seizure,Record,Artifact,
iEEG.org ID,File,Diagnosis,Age,Sex,No.,No.,length,length,No.,Seizure description
ICUDataRedux_0060,1,AMS,87,F,2,2,100.5,30000,3,L temporal seizure
ICUDataRedux_0061,2,SZ,60,F,49,49,110.18,31855,266,L temporal seizure
,,,,,,,,,,R and L hemispheric
ICUDataRedux_0062,3,SZ,64,M,22,7,22.136,23500,1,seizure
ICUDataRedux_0063,4,SZ,59,F,5,5,20.8,30170,198,L temporal seizure
,,,,,,,,,,R posterior quadrant
ICUDataRedux_0064,5,SZ,45,F,39,35,74.179,14995,2,seizure
,,,,,,,,,,L centrotemporal
ICUDataRedux_0065,6,ICH,83,M,4,4,139,7000,71,seizure
ICUDataRedux_0066,7,SZ,43,F,5,5,224.2,37000,30,L temporal seizure
ICUDataRedux_0067,8,ICH,70,F,4,4,139,32975,15,R frontal seizure
ICUDataRedux_0068,9,ICH,77,M,4,3,29.75,10000,1,R frontal seizure
,,,,,,,,,,L temporal posterior
ICUDataRedux_0069,10,AMS,41,F,11,11,12.909,2955,0,seizure
,,,,,,,,,,Bilat. parasagittal
ICUDataRedux_0072,13,SZ,33,F,12,12,21.583,5000,1,status epilepticus
ICUDataRedux_0073,14,ICH,88,M,4,2,68,20000,204,L frontal focal seizure
,,,,,,,,,,Frequent subclinical
ICUDataRedux_0074,15,SZ,63,M,11,11,130.55,10000,0,seizures
ICUDataRedux_0054,18,ICH,81,F,5,2,104.6,16000,357,R frontal seizure
,,,,,,,,,,R centroparietal
ICUDataRedux_0078,22,Neoplasm,72,F,2,2,1260.5,10000,0,seizure
,,,,,,,,,,R hemisphere status
ICUDataRedux_0082,23,SZ,54,M,10,9,134.7,2800,1,epilepticus
ICUDataRedux_0083,24,Neoplasm,81,M,2,2,42,10000,145,L temporal seizure
,,,,,,,,,,R posterior quadrant
ICUDataRedux_0084,25,ICH,57,F,2,2,147,5000,0,seizure
ICUDataRedux_0085,26,Sepsis,52,M,22,12,266,15085,0,L temporal NCSE
,,,,,,,,,,R frontotemporal
ICUDataRedux_0086,27,SZ,28,F,16,16,67.125,9570,16,"onset, CSE"
ICUDataRedux_0087,28,Misc/UC,52,M,5,5,95.6,10000,0,R central seizure
,,,,,,,,,,"Diffuse seizure, poorly"
ICUDataRedux_0089,30,Sepsis,57,M,5,5,265.6,8000,32,localized at onset
ICUDataRedux_0090,31,SZ,53,M,18,13,94.222,5000,0,L hemisphere seizure
ICUDataRedux_0091,32,Misc/UC,49,F,3,2,315.33,2000,0,R frontal seizure
,,,,,,,,,,L posterior quadrant
ICUDataRedux_0003,92,Neoplasm,71,M,1,1,96,5000,0,seizure
ICUDataRedux_0004,93,Neoplasm,63,M,1,0,11,10000,0,L focal seizure
ICUDataRedux_0006,94,Misc/UC,76,F,1,1,582,5000,0,L frontal focal seizure
CNT684,33,Anoxic,31,F,0,n/a,n/a,10000,0,n/a
CNT685,34,Misc/UC,22,M,0,n/a,n/a,10000,0,n/a
CNT686,35,Anoxic,21,M,0,n/a,n/a,10000,0,n/a
CNT687,36,Toxometabolic,25,F,0,n/a,n/a,10000,0,n/a
CNT688,37,Toxometabolic,74,M,0,n/a,n/a,10000,0,n/a
CNT689,38,Toxometabolic,71,M,0,n/a,n/a,10000,1726,n/a
CNT690,39,ICH,69,M,0,n/a,n/a,10000,0,n/a
CNT691,40,SZ,84,M,0,n/a,n/a,10000,0,n/a
CNT692,41,Anoxic,24,F,0,n/a,n/a,10000,17,n/a

CNT694,42,Misc/UC,64,F,0,n/a,n/a,10000,0,n/a
CNT695,43,Toxometabolic,61,M,0,n/a,n/a,10000,0,n/a
CNT698,44,AMS,60,F,0,n/a,n/a,10000,31,n/a
CNT700,45,SZ,64,M,0,n/a,n/a,10000,198,n/a
CNT701,46,Toxometabolic,65,M,0,n/a,n/a,10000,0,n/a
CNT702,47,ICH,67,F,0,n/a,n/a,10000,9,n/a
CNT705,48,Misc/UC,60,F,0,n/a,n/a,10000,0,n/a
CNT706,49,AMS,67,F,0,n/a,n/a,10000,17,n/a
CNT708,50,ICH,63,F,0,n/a,n/a,10000,335,n/a
CNT710,51,SZ,45,F,0,n/a,n/a,10000,0,n/a
CNT711,52,Neoplasm,53,F,0,n/a,n/a,10000,0,n/a
CNT713,53,Misc/UC,75,F,0,n/a,n/a,10000,0,n/a
CNT715,54,SZ,55,M,0,n/a,n/a,10000,7,n/a
CNT720,57,SZ,22,F,0,n/a,n/a,10000,4,n/a
CNT723,59,Toxometabolic,22,F,0,n/a,n/a,10000,0,n/a
CNT724,60,Misc/UC,86,F,0,n/a,n/a,10000,0,n/a
CNT725,61,Neoplasm,67,M,0,n/a,n/a,10000,0,n/a
CNT726,62,Misc/UC,19,M,0,n/a,n/a,10000,111,n/a
CNT729,63,Misc/UC,61,M,0,n/a,n/a,10000,0,n/a
CNT730,64,Misc/UC,45,M,0,n/a,n/a,10000,0,n/a
CNT731,65,ICH,75,F,0,n/a,n/a,10000,0,n/a
CNT732,66,Misc/UC,72,M,0,n/a,n/a,10000,0,n/a
CNT733,67,AMS,53,F,0,n/a,n/a,10000,2,n/a
CNT734,68,AMS,52,M,0,n/a,n/a,10000,0,n/a
CNT737,69,AMS,68,M,0,n/a,n/a,10000,1,n/a
CNT740,70,ICH,38,F,0,n/a,n/a,10000,0,n/a
CNT741,71,ICH,60,F,0,n/a,n/a,10000,14,n/a
CNT742,72,ICH,54,F,0,n/a,n/a,10000,0,n/a
CNT743,73,Neoplasm,64,F,0,n/a,n/a,10000,0,n/a
CNT748,74,Anoxic,44,F,0,n/a,n/a,10000,0,n/a
CNT750,75,ICH,53,F,0,n/a,n/a,10000,0,n/a
CNT751,76,ICH,62,F,0,n/a,n/a,10000,0,n/a
CNT757,77,AMS,74,M,0,n/a,n/a,10000,3,n/a
CNT758,78,Toxometabolic,20,M,0,n/a,n/a,10000,157,n/a
CNT765,79,ICH,81,M,0,n/a,n/a,10000,0,n/a
CNT773,80,ICH,81,F,0,n/a,n/a,10000,0,n/a
CNT774,81,Toxometabolic,44,F,0,n/a,n/a,10000,1,n/a
CNT775,82,Toxometabolic,67,F,0,n/a,n/a,10000,0,n/a
CNT776,83,Misc/UC,60,M,0,n/a,n/a,10000,0,n/a
CNT778,84,ICH,66,M,0,n/a,n/a,10000,0,n/a

CNT782,85,AMS,47,M,0,n/a,n/a,10000,0,n/a
,,,,,,,,,,R frontocentral focal
CNT929,113,SZ,58,F,1,1,132,20000,42,seizure
,,,,,,,,,,L focal to bilateral
ICUDataRedux_0027,116,AMS,74,F,1,1,909,10000,0,tonic clonic seizure
,,,,,,,,,,R temporal focal
ICUDataRedux_0028,117,AMS,68,M,3,3,310,10000,0,seizure
,,,,,,,,,,"Left focal seizures,"
ICUDataRedux_0033,118,AMS,79,M,6,3,62.5,5000,0,focal status epilepticus
,,,,,,,,,,Left posterior quadrant
ICUDataRedux_0036,119,SZ,86,F,1,1,193,2000,0,focal seizure
,,,,,,,,,,Frequent generalized
ICUDataRedux_0040,120,SZ,74,F,1,1,5000,5000,0,"seizures, NCSE"
,,,,,,,,,,L frontotemporal focal
ICUDataRedux_0042,121,Misc/UC,19,M,2,2,52.5,13000,0,seizures
ICUDataRedux_0045,122,SZ,60,M,1,1,95,7000,0,L frontal focal seizure
,,,,,,,,,,L occipital focal
ICUDataRedux_0049,123,ICH,16,M,9,0,38.889,10000,0,"seizures, focal NCSE"
,,,,,,,,,,R and L temporal focal
ICUDataRedux_0050,124,SZ,21,F,2,2,63,5000,0,seizures
ICUDataRedux_0023,125,Sepsis,51,F,0,n/a,n/a,10000,163,n/a
ICUDataRedux_0026,126,ICH,74,F,0,n/a,n/a,10000,0,n/a
ICUDataRedux_0029,127,Anoxic,73,M,0,n/a,n/a,10000,8,n/a
ICUDataRedux_0030,128,ICH,43,M,0,n/a,n/a,10000,11,n/a
ICUDataRedux_0034,129,SZ,49,F,0,n/a,n/a,10000,40,n/a
ICUDataRedux_0035,130,AMS,30,M,0,n/a,n/a,10000,0,n/a
ICUDataRedux_0043,131,SZ,38,F,0,n/a,n/a,10000,0,n/a
ICUDataRedux_0044,132,Anoxic,64,M,0,n/a,n/a,10000,0,n/a
ICUDataRedux_0047,133,AMS,58,F,0,n/a,n/a,10000,46,n/a
ICUDataRedux_0048,134,Sepsis,60,F,0,n/a,n/a,10000,0,n/a
Table S1: Patient list and metadata. Column 1 lists the portal ID number of the records publicly,,,,,,,,,,
"available on ieeg.org. The first 77 patients in the table were in the cross-validation set, and the",,,,,,,,,,
final 20 were in the test set. Column 2 denotes the annotation file number in the ‘Data’ folder of,,,,,,,,,,
"our GitHub repository, containing start/stop times of the data we used in this study as well as",,,,,,,,,,
seizure annotation start/stop times. Column 3 contains a diagnosis code that most directly led to,,,,,,,,,,
"the continuous EEG study being ordered. Abbreviations: AMS – altered mental status, SZ –",,,,,,,,,,
"witnessed or reported seizure, Anoxic – anoxic brain injury, UC – unspecified coma, ICH –",,,,,,,,,,
intracranial hemorrhage (including subdural and intracerebral). Column 4 denotes patient age at,,,,,,,,,,
time of EEG recording. Column 5 denotes patient sex. Column 6 indicates number of total seizures.,,,,,,,,,,
Column 7 contains mean length of seizure. Column 8 shows the total length of data clip used in,,,,,,,,,,
seconds. Column 9 denotes the number of total 5-second intervals that the artifact rejection,,,,,,,,,,
algorithm marked for removal. Column 10 contains a brief description of the seizures obtained,,,,,,,,,,
from the clinical EEG report by a neurologist board certified in clinical neurophysiology.,,,,,,,,,,
Abbreviations: (N)CSE – (non)-convulsive status epilepticus.,,,,,,,,,,

Fig S1: Real-time alerting and monitoring system for epilepsy and seizures (RAMSES). (A)
Celery workers asynchronously stream data from iEEG.org and store predictions in a mongoDB
database which the Flask-based web dashboard queries on user request. (B) Front page of web
dashboard showing summary statistics for each patient as well as options to customize the ordering
of patients and the length of time over which the statistics are calculated. The dot next to each
patient’s name indicates the most concerning prediction the algorithm produced over the selected
window of time for that patient. (C) Layout of a single patient with raw EEG displayed as well as
a navigable timeline of algorithm outputs.

Figure S2: Low sensitivity CV patient. The single seizure in the only cross-validation patient for
"which all seizures were missed, with ieeg.org portal ID ICUDataRedux_004. This event, which"
lacked high frequency or high amplitude activity (maximum voltage 158.7 μV) was also difficult
"to detect due to its short nature, as the label smoothing aspect of the algorithm could suppress"
detection of an event which only had a high seizure probability for a single 5-second window.
Figure S3: Low sensitivity test patient. A seizure in the only test set patient for which all seizures
"were missed, with ieeg.org portal ID ICUDataRedux_0049. This event, in which seizure activity"
is most visually evident in the temporal and occipital regions as evidenced by small increases in
"high frequency components, was likely difficult to algorithmically detect due to the global, high-"
"amplitude, synchronous activity present in frontoparietal regions."

Methods S1: Extended feature calculation
Our overall approach in selecting features was to favor those which are computationally
"efficient, clinically interpretable, or especially informative in the context of epilepsy. We also"
avoided channel-specific features to ensure that we would not be biased against seizures arising
from different parts of the brain.
"Our features include basic statistical measures such as the mean magnitude, variance, and"
kurtosis of the signal in each window for each channel. We computed the median and variance of
each of these three initial features across all 18 channels yielding six final features.
"As the frequency content of neural signals is critical to the clinical interpretation of EEG,"
we chose to include power in each of four canonical frequency bands as features in our algorithm.
"Using a modified periodogram approach as part of Matlab’s ‘bandpower’ function, we calculated"
both the median and variance of the bandpower across channels in using each of the following
"frequency boundaries: (i) delta (1 - 4 Hz), (ii) theta (4 - 8 Hz), (iii) alpha (8 - 12 Hz), and (iv) beta"
(12 - 25 Hz) frequency bands. This approach yielded eight final features.
As seizures often have a stereotyped regularity in which excessive synchrony replaces
"normal oscillations, we chose to include the metric of wavelet entropy which quantifies signal"
"complexity. We used Shannon entropy, calculated through Matlab’s ‘wentropy’ function as"
"in which E is signal entropy, and s i are coefficient of the signal with"
ErEe(ssps)e c=t t o− t h∑e ii  sosir2t lhoogn(ossri2 m) al basis defined by the wavelets. We calculate the median and variance of
"this feature across channels, yielding two final features."
We used two additional initial features which quantify signal morphology: line-length and
upper envelope magnitude. Line-length is an efficient feature for seizure detection that captures
both magnitude and frequency and quantifies the sum of absolute differences between data points.
Line-length is calculated as  NN in which N is the number of points
"in the 5 second window, x isLL  th=e  d∑i kskc=r1e ataea aasai[gxxn(akkl . −W 1e) f i−na lxlxy( kkc)a]l culated the magnitude of the upper"
envelope of the signal. Taking the median and variance of each of these features across channels
yields four final features bringing the total to 20 features.
